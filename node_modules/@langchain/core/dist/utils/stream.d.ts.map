{"version":3,"file":"stream.d.ts","names":["IterableReadableStreamInterface","IterableReadableStream","T","ReadableStreamDefaultReader","IteratorResult","Promise","Symbol","asyncIterator","asyncDispose","ReadableStream","AsyncGenerator","atee","concat","Array","Record","AsyncGeneratorWithSetup","TReturn","TNext","S","AbortSignal","PromiseLike","Error","pipeGeneratorWithSetup","A","U","UReturn","UNext","Awaited"],"sources":["../../src/utils/stream.d.ts"],"sourcesContent":["import type { IterableReadableStreamInterface } from \"../types/_internal.js\";\n// Re-exported for backwards compatibility\n// Do NOT import this type from this file inside the project. Instead, always import from `types/_internal.js`\n// when using internally\nexport type { IterableReadableStreamInterface };\n/*\n * Support async iterator syntax for ReadableStreams in all environments.\n * Source: https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nexport declare class IterableReadableStream<T> extends ReadableStream<T> implements IterableReadableStreamInterface<T> {\n    reader: ReadableStreamDefaultReader<T>;\n    ensureReader(): void;\n    next(): Promise<IteratorResult<T>>;\n    return(): Promise<IteratorResult<T>>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    throw(e: any): Promise<IteratorResult<T>>;\n    [Symbol.asyncIterator](): this;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore Not present in Node 18 types, required in latest Node 22\n    [Symbol.asyncDispose](): Promise<void>;\n    static fromReadableStream<T>(stream: ReadableStream<T>): IterableReadableStream<T>;\n    static fromAsyncGenerator<T>(generator: AsyncGenerator<T>): IterableReadableStream<T>;\n}\nexport declare function atee<T>(iter: AsyncGenerator<T>, length?: number): AsyncGenerator<T>[];\nexport declare function concat<\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nT extends Array<any> | string | number | Record<string, any> | any>(first: T, second: T): T;\nexport declare class AsyncGeneratorWithSetup<S = unknown, T = unknown, TReturn = unknown, TNext = unknown> implements AsyncGenerator<T, TReturn, TNext> {\n    private generator;\n    setup: Promise<S>;\n    config?: unknown;\n    signal?: AbortSignal;\n    private firstResult;\n    private firstResultUsed;\n    constructor(params: {\n        generator: AsyncGenerator<T>;\n        startSetup?: () => Promise<S>;\n        config?: unknown;\n        signal?: AbortSignal;\n    });\n    next(...args: [] | [TNext]): Promise<IteratorResult<T>>;\n    return(value?: TReturn | PromiseLike<TReturn>): Promise<IteratorResult<T>>;\n    throw(e: Error): Promise<IteratorResult<T>>;\n    [Symbol.asyncIterator](): this;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore Not present in Node 18 types, required in latest Node 22\n    [Symbol.asyncDispose](): Promise<void>;\n}\nexport declare function pipeGeneratorWithSetup<S, A extends unknown[], T, TReturn, TNext, U, UReturn, UNext>(to: (g: AsyncGenerator<T, TReturn, TNext>, s: S, ...args: A) => AsyncGenerator<U, UReturn, UNext>, generator: AsyncGenerator<T, TReturn, TNext>, startSetup: () => Promise<S>, signal: AbortSignal | undefined, ...args: A): Promise<{\n    output: AsyncGenerator<U, UReturn, UNext>;\n    setup: Awaited<S>;\n}>;\n"],"mappings":"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"}