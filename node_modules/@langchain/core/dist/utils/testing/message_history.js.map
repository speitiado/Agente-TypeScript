{"version":3,"file":"message_history.js","names":["message: BaseMessage","message: string","run: Run"],"sources":["../../../src/utils/testing/message_history.ts"],"sourcesContent":["import {\n  BaseChatMessageHistory,\n  BaseListChatMessageHistory,\n} from \"../../chat_history.js\";\nimport { BaseMessage, AIMessage, HumanMessage } from \"../../messages/index.js\";\nimport { BaseTracer, Run } from \"../../tracers/base.js\";\n\nexport class FakeChatMessageHistory extends BaseChatMessageHistory {\n  lc_namespace = [\"langchain_core\", \"message\", \"fake\"];\n\n  messages: Array<BaseMessage> = [];\n\n  constructor() {\n    super();\n  }\n\n  async getMessages(): Promise<BaseMessage[]> {\n    return this.messages;\n  }\n\n  async addMessage(message: BaseMessage): Promise<void> {\n    this.messages.push(message);\n  }\n\n  async addUserMessage(message: string): Promise<void> {\n    this.messages.push(new HumanMessage(message));\n  }\n\n  async addAIMessage(message: string): Promise<void> {\n    this.messages.push(new AIMessage(message));\n  }\n\n  async clear(): Promise<void> {\n    this.messages = [];\n  }\n}\n\nexport class FakeListChatMessageHistory extends BaseListChatMessageHistory {\n  lc_namespace = [\"langchain_core\", \"message\", \"fake\"];\n\n  messages: Array<BaseMessage> = [];\n\n  constructor() {\n    super();\n  }\n\n  async addMessage(message: BaseMessage): Promise<void> {\n    this.messages.push(message);\n  }\n\n  async getMessages(): Promise<BaseMessage[]> {\n    return this.messages;\n  }\n}\n\nexport class FakeTracer extends BaseTracer {\n  name = \"fake_tracer\";\n\n  runs: Run[] = [];\n\n  constructor() {\n    super();\n  }\n\n  protected persistRun(run: Run): Promise<void> {\n    this.runs.push(run);\n    return Promise.resolve();\n  }\n}\n"],"mappings":";;;;;;;AAOA,IAAa,yBAAb,cAA4C,uBAAuB;CACjE,eAAe;EAAC;EAAkB;EAAW;CAAO;CAEpD,WAA+B,CAAE;CAEjC,cAAc;EACZ,OAAO;CACR;CAED,MAAM,cAAsC;AAC1C,SAAO,KAAK;CACb;CAED,MAAM,WAAWA,SAAqC;EACpD,KAAK,SAAS,KAAK,QAAQ;CAC5B;CAED,MAAM,eAAeC,SAAgC;EACnD,KAAK,SAAS,KAAK,IAAI,aAAa,SAAS;CAC9C;CAED,MAAM,aAAaA,SAAgC;EACjD,KAAK,SAAS,KAAK,IAAI,UAAU,SAAS;CAC3C;CAED,MAAM,QAAuB;EAC3B,KAAK,WAAW,CAAE;CACnB;AACF;AAED,IAAa,6BAAb,cAAgD,2BAA2B;CACzE,eAAe;EAAC;EAAkB;EAAW;CAAO;CAEpD,WAA+B,CAAE;CAEjC,cAAc;EACZ,OAAO;CACR;CAED,MAAM,WAAWD,SAAqC;EACpD,KAAK,SAAS,KAAK,QAAQ;CAC5B;CAED,MAAM,cAAsC;AAC1C,SAAO,KAAK;CACb;AACF;AAED,IAAa,aAAb,cAAgC,WAAW;CACzC,OAAO;CAEP,OAAc,CAAE;CAEhB,cAAc;EACZ,OAAO;CACR;CAED,AAAU,WAAWE,KAAyB;EAC5C,KAAK,KAAK,KAAK,IAAI;AACnB,SAAO,QAAQ,SAAS;CACzB;AACF"}