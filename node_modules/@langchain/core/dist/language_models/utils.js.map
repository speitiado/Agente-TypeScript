{"version":3,"file":"utils.js","names":["fn: () => T","message: T"],"sources":["../../src/language_models/utils.ts"],"sourcesContent":["import { BaseMessage } from \"../messages/base.js\";\n\ntype Constructor<T> = new (...args: unknown[]) => T;\n\nexport const iife = <T>(fn: () => T): T => fn();\n\nfunction castStandardMessageContent<T extends BaseMessage>(message: T) {\n  const Cls = message.constructor as Constructor<T>;\n  return new Cls({\n    ...message,\n    content: message.contentBlocks,\n    response_metadata: {\n      ...message.response_metadata,\n      output_version: \"v1\",\n    },\n  });\n}\n\nexport { castStandardMessageContent };\n"],"mappings":";AAIA,MAAa,OAAO,CAAIA,OAAmB,IAAI;AAE/C,SAAS,2BAAkDC,SAAY;CACrE,MAAM,MAAM,QAAQ;AACpB,QAAO,IAAI,IAAI;EACb,GAAG;EACH,SAAS,QAAQ;EACjB,mBAAmB;GACjB,GAAG,QAAQ;GACX,gBAAgB;EACjB;CACF;AACF"}