{"version":3,"file":"signals.cjs","names":[],"sources":["../../src/utils/signals.ts"],"sourcesContent":["export function mergeSignals(...signals: (AbortSignal | null | undefined)[]) {\n  const nonZeroSignals = signals.filter(\n    (signal): signal is AbortSignal => signal != null\n  );\n\n  if (nonZeroSignals.length === 0) return undefined;\n  if (nonZeroSignals.length === 1) return nonZeroSignals[0];\n\n  const controller = new AbortController();\n  for (const signal of signals) {\n    if (signal?.aborted) {\n      controller.abort(signal.reason);\n      return controller.signal;\n    }\n\n    signal?.addEventListener(\"abort\", () => controller.abort(signal.reason), {\n      once: true,\n    });\n  }\n\n  return controller.signal;\n}\n"],"mappings":";;AAAA,SAAgB,aAAa,GAAG,SAA6C;CAC3E,MAAM,iBAAiB,QAAQ,QAC5B,WAAkC,UAAU;AAG/C,KAAI,eAAe,WAAW,EAAG,QAAO;AACxC,KAAI,eAAe,WAAW,EAAG,QAAO,eAAe;CAEvD,MAAM,aAAa,IAAI;AACvB,MAAK,MAAM,UAAU,SAAS;AAC5B,MAAI,QAAQ,SAAS;AACnB,cAAW,MAAM,OAAO;AACxB,UAAO,WAAW;;AAGpB,UAAQ,iBAAiB,eAAe,WAAW,MAAM,OAAO,SAAS,EACvE,MAAM;;AAIV,QAAO,WAAW"}